CREATE USER 'it21489'@'localhost' IDENTIFIED BY 'changeit';
GRANT ALL PRIVILEGES ON * . * TO 'it21489'@'localhost';


CREATE DATABASE  IF NOT EXISTS `hb_student_tracker`;
USE `hb_student_tracker`;


DROP TABLE IF EXISTS `services`;
DROP TABLE IF EXISTS `headsecretary`;
DROP TABLE IF EXISTS `collaborating_universities`;
DROP TABLE IF EXISTS `student`;
DROP TABLE IF EXISTS `users`;


CREATE TABLE `users` (
`id` INT (10) ,
`username` VARCHAR(50) NOT NULL DEFAULT ' ',
`password` VARCHAR(20) NOT NULL DEFAULT ' ',
`role` VARCHAR(50) NOT NULL DEFAULT ' ',
PRIMARY KEY (`username`)
) ENGINE = InnoDB AUTO_INCREMENT = 1 DEFAULT CHARSET=utf8mb4;


CREATE TABLE `student` (
`id` INT (10) NOT NULL AUTO_INCREMENT,
`fullname` VARCHAR(50) NOT NULL DEFAULT ' ' , 
`mothername` VARCHAR(20) NOT NULL DEFAULT ' ' ,
`fathername` VARCHAR(20) NOT NULL DEFAULT ' ' ,
`username` VARCHAR(15) NOT NULL DEFAULT ' ' ,
`password` VARCHAR (20) NOT NULL DEFAULT ' ' ,
`phone` INT(10) ,
`status` VARCHAR (20) NOT NULL DEFAULT ' ' ,
`year` VARCHAR (50) NOT NULL DEFAULT ' ' ,
`grades` DOUBLE(2,2) ,
`lessons` INT (10) ,
PRIMARY KEY (`id`)
) ENGINE = InnoDB AUTO_INCREMENT = 1 DEFAULT CHARSET=utf8mb4;




CREATE TABLE `collaborating_universities`(
`id` INT(11) NOT NULL AUTO_INCREMENT,
`name` VARCHAR(45) NOT NULL DEFAULT ' ',
`location` VARCHAR(45) NOT NULL DEFAULT ' ',
`number_of_acceptants` INT(11) ,
PRIMARY KEY(`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 CHARSET=utf8mb4;




CREATE TABLE `headsecretary` (
`id` INT(10) NOT NULL AUTO_INCREMENT,
`fullname` VARCHAR (50) NOT NULL DEFAULT ' ',
`username` VARCHAR (20) NOT NULL DEFAULT ' ',
`password` VARCHAR (20) NOT NULL DEFAULT ' ',
PRIMARY KEY (`id`)
) ENGINE = InnoDB AUTO_INCREMENT = 2 CHARSET = utf8mb4;




CREATE TABLE `services`(
`services_of_users` VARCHAR (60) NOT NULL DEFAULT ' ',
`headsecretaryid` INT(10) UNIQUE NOT NULL ,
`studentid` INT(10) UNIQUE NOT NULL , 
CONSTRAINT FOREIGN KEY (`headsecretaryid` ) REFERENCES `headsecretary` (`id`),
CONSTRAINT FOREIGN KEY (`studentid`) REFERENCES `student` (`id`)
) ENGINE = InnoDB CHARSET=utf8mb4;


SHOW TABLES;

